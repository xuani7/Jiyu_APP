(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["uni_modules-uni-id-pages-pages-userinfo-change_pwd-change_pwd"],{"1af6":function(e,t,a){"use strict";a.r(t);var r=a("521f"),o=a("ef62");for(var i in o)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return o[e]}))}(i);a("e5cb4");var n=a("f0c5"),d=Object(n["a"])(o["default"],r["b"],r["c"],!1,null,"18e04f9e",null,!1,r["a"],void 0);t["default"]=d.exports},"1ec3":function(e,t,a){"use strict";var r;a("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("a9e3");var o={name:"UniMatchMedia",props:{width:{type:[Number,String],default:""},minWidth:{type:[Number,String],default:""},maxWidth:{type:[Number,String],default:""},height:{type:[Number,String],default:""},minHeight:{type:[Number,String],default:""},maxHeight:{type:[Number,String],default:""},orientation:{type:String,default:""}},data:function(){return{matches:!0}},mounted:function(){var e=this;r=uni.createMediaQueryObserver(this),r.observe({width:this.width,maxWidth:this.maxWidth,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight,maxHeight:this.maxHeight,orientation:this.orientation},(function(t){e.matches=t}))},destroyed:function(){r.disconnect()}};t.default=o},"22dd":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:this.matches,expression:"matches"}]},[this._t("default")],2)},o=[]},"36ea":function(e,t,a){"use strict";(function(e){a("7a82");var r=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.store=t.mutations=void 0;var o=r(a("c7eb")),i=r(a("5530")),n=r(a("1da1"));a("b64b"),a("d3b7"),a("159b"),a("99af");var d=r(a("32c5")),s=r(a("c01c")),l=r(a("e143")),u=e.importObject("uni-id-co"),c=e.database(),f=c.collection("uni-id-users"),b=uni.getStorageSync("uni-id-pages-userInfo")||{},p={userInfo:b,hasLogin:0!=Object.keys(b).length},v={updateUserInfo:function(){var t=arguments,a=this;return(0,n.default)((0,o.default)().mark((function r(){var n,d,s,l;return(0,o.default)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n=t.length>0&&void 0!==t[0]&&t[0],!n){r.next=5;break}f.where("_id==$env.uid").update(n).then((function(e){e.result.updated?(uni.showToast({title:"更新成功",icon:"none",duration:3e3}),a.setUserInfo(n)):uni.showToast({title:"没有改变",icon:"none",duration:3e3})})),r.next=20;break;case 5:return d=e.importObject("uni-id-co",{customUI:!0}),r.prev=6,r.next=9,f.where("'_id' == $cloudEnv_uid").field("mobile,nickname,username,email,avatar_file").get();case 9:return s=r.sent,r.next=12,d.getRealNameInfo();case 12:l=r.sent,a.setUserInfo((0,i.default)((0,i.default)({},s.result.data[0]),{},{realNameAuth:l})),r.next=20;break;case 16:r.prev=16,r.t0=r["catch"](6),a.setUserInfo({},{cover:!0}),console.error(r.t0.message,r.t0.errCode);case 20:case"end":return r.stop()}}),r,null,[[6,16]])})))()},setUserInfo:function(e){var t=arguments;return(0,n.default)((0,o.default)().mark((function a(){var r,i,n;return(0,o.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.length>1&&void 0!==t[1]?t[1]:{cover:!1},i=r.cover,n=i?e:Object.assign(m.userInfo,e),m.userInfo=Object.assign({},n),m.hasLogin=0!=Object.keys(m.userInfo).length,uni.setStorage({key:"uni-id-pages-userInfo",data:m.userInfo}),a.abrupt("return",e);case 6:case"end":return a.stop()}}),a)})))()},logout:function(){var t=this;return(0,n.default)((0,o.default)().mark((function a(){var r,i;return(0,o.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!(e.getCurrentUserInfo().tokenExpired>Date.now())){a.next=9;break}return a.prev=1,a.next=4,u.logout();case 4:a.next=9;break;case 6:a.prev=6,a.t0=a["catch"](1),console.error(a.t0);case 9:uni.removeStorageSync("uni_id_token"),uni.setStorageSync("uni_id_token_expired",0),uni.redirectTo({url:"/".concat(null!==(r=null===(i=d.default.uniIdRouter)||void 0===i?void 0:i.loginPage)&&void 0!==r?r:"uni_modules/uni-id-pages/pages/login/login-withoutpwd")}),uni.$emit("uni-id-pages-logout"),t.setUserInfo({},{cover:!0});case 14:case"end":return a.stop()}}),a,null,[[1,6]])})))()},loginBack:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.uniIdRedirectUrl,a=void 0===t?"":t,r=0,o=getCurrentPages();if(o.forEach((function(e,t){"login"==o[o.length-t-1].route.split("/")[3]&&r++})),a)return uni.reLaunch({url:a});if("weixin"==e.loginType)return window.history.go(-3);if(r){var i=d.default.pages[0];return uni.reLaunch({url:"/".concat(i.path)})}uni.navigateBack({delta:r})},loginSuccess:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.showToast,a=void 0===t||t,r=e.toastText,o=void 0===r?"登录成功":r,i=e.autoBack,n=void 0===i||i,d=e.uniIdRedirectUrl,l=void 0===d?"":d,u=e.passwordConfirmed;if(a&&uni.showToast({title:o,icon:"none",duration:3e3}),this.updateUserInfo(),uni.$emit("uni-id-pages-login-success"),s.default.setPasswordAfterLogin&&!u)return uni.redirectTo({url:l?"/uni_modules/uni-id-pages/pages/userinfo/set-pwd/set-pwd?uniIdRedirectUrl=".concat(l,"&loginType=").concat(e.loginType):"/uni_modules/uni-id-pages/pages/userinfo/set-pwd/set-pwd?loginType=".concat(e.loginType),fail:function(e){console.log(e)}});n&&this.loginBack({uniIdRedirectUrl:l})}};t.mutations=v;var m=l.default.observable(p);t.store=m}).call(this,a("a9ff")["default"])},4723:function(e,t,a){"use strict";a.r(t);var r=a("1ec3"),o=a.n(r);for(var i in r)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},"521f":function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return r}));var r={uniMatchMedia:a("a5e8").default,uniForms:a("073d").default,uniFormsItem:a("8109").default,uniEasyinput:a("1c68").default},o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("v-uni-view",{staticClass:"status_bar"}),a("v-uni-view",{staticClass:"uni-content"},[a("uni-match-media",{attrs:{"min-width":690}},[a("v-uni-view",{staticClass:"login-logo"},[a("v-uni-image",{attrs:{src:e.logo}})],1),a("v-uni-text",{staticClass:"title title-box"},[e._v("修改密码")])],1),a("uni-forms",{ref:"form",attrs:{value:e.formData,"err-show-type":"toast"}},[a("uni-forms-item",{attrs:{name:"oldPassword"}},[a("uni-easyinput",{staticClass:"input-box",attrs:{focus:e.focusOldPassword,type:"password",inputBorder:!1,placeholder:"请输入旧密码"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.focusOldPassword=!1}},model:{value:e.formData.oldPassword,callback:function(t){e.$set(e.formData,"oldPassword",t)},expression:"formData.oldPassword"}})],1),a("uni-forms-item",{attrs:{name:"newPassword"}},[a("uni-easyinput",{staticClass:"input-box",attrs:{focus:e.focusNewPassword,type:"password",inputBorder:!1,placeholder:"请输入新密码"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.focusNewPassword=!1}},model:{value:e.formData.newPassword,callback:function(t){e.$set(e.formData,"newPassword",t)},expression:"formData.newPassword"}})],1),a("uni-forms-item",{attrs:{name:"newPassword2"}},[a("uni-easyinput",{staticClass:"input-box",attrs:{focus:e.focusNewPassword2,type:"password",inputBorder:!1,placeholder:"请再次输入新密码"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.focusNewPassword2=!1}},model:{value:e.formData.newPassword2,callback:function(t){e.$set(e.formData,"newPassword2",t)},expression:"formData.newPassword2"}})],1),a("v-uni-button",{staticClass:"uni-btn send-btn-box",attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[e._v("提交")])],1)],1)],1)},i=[]},5535:function(e,t,a){"use strict";var r=a("b2ed"),o=a.n(r);o.a},7599:function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.u-line-1[data-v-7b4c51d5]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:1;-webkit-box-orient:vertical!important}.u-line-2[data-v-7b4c51d5]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:2;-webkit-box-orient:vertical!important}.u-line-3[data-v-7b4c51d5]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:3;-webkit-box-orient:vertical!important}.u-line-4[data-v-7b4c51d5]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:4;-webkit-box-orient:vertical!important}.u-line-5[data-v-7b4c51d5]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:5;-webkit-box-orient:vertical!important}.u-border[data-v-7b4c51d5]{border-width:.5px!important;border-color:#dadbde!important;border-style:solid}.u-border-top[data-v-7b4c51d5]{border-top-width:.5px!important;border-color:#dadbde!important;border-top-style:solid}.u-border-left[data-v-7b4c51d5]{border-left-width:.5px!important;border-color:#dadbde!important;border-left-style:solid}.u-border-right[data-v-7b4c51d5]{border-right-width:.5px!important;border-color:#dadbde!important;border-right-style:solid}.u-border-bottom[data-v-7b4c51d5]{border-bottom-width:.5px!important;border-color:#dadbde!important;border-bottom-style:solid}.u-border-top-bottom[data-v-7b4c51d5]{border-top-width:.5px!important;border-bottom-width:.5px!important;border-color:#dadbde!important;border-top-style:solid;border-bottom-style:solid}.u-reset-button[data-v-7b4c51d5]{padding:0;background-color:initial;font-size:inherit;line-height:inherit;color:inherit}.u-reset-button[data-v-7b4c51d5]::after{border:none}.u-hover-class[data-v-7b4c51d5]{opacity:.7}.u-primary-light[data-v-7b4c51d5]{color:#ecf5ff}.u-warning-light[data-v-7b4c51d5]{color:#fdf6ec}.u-success-light[data-v-7b4c51d5]{color:#f5fff0}.u-error-light[data-v-7b4c51d5]{color:#fef0f0}.u-info-light[data-v-7b4c51d5]{color:#f4f4f5}.u-primary-light-bg[data-v-7b4c51d5]{background-color:#ecf5ff}.u-warning-light-bg[data-v-7b4c51d5]{background-color:#fdf6ec}.u-success-light-bg[data-v-7b4c51d5]{background-color:#f5fff0}.u-error-light-bg[data-v-7b4c51d5]{background-color:#fef0f0}.u-info-light-bg[data-v-7b4c51d5]{background-color:#f4f4f5}.u-primary-dark[data-v-7b4c51d5]{color:#398ade}.u-warning-dark[data-v-7b4c51d5]{color:#f1a532}.u-success-dark[data-v-7b4c51d5]{color:#53c21d}.u-error-dark[data-v-7b4c51d5]{color:#e45656}.u-info-dark[data-v-7b4c51d5]{color:#767a82}.u-primary-dark-bg[data-v-7b4c51d5]{background-color:#398ade}.u-warning-dark-bg[data-v-7b4c51d5]{background-color:#f1a532}.u-success-dark-bg[data-v-7b4c51d5]{background-color:#53c21d}.u-error-dark-bg[data-v-7b4c51d5]{background-color:#e45656}.u-info-dark-bg[data-v-7b4c51d5]{background-color:#767a82}.u-primary-disabled[data-v-7b4c51d5]{color:#9acafc}.u-warning-disabled[data-v-7b4c51d5]{color:#f9d39b}.u-success-disabled[data-v-7b4c51d5]{color:#a9e08f}.u-error-disabled[data-v-7b4c51d5]{color:#f7b2b2}.u-info-disabled[data-v-7b4c51d5]{color:#c4c6c9}.u-primary[data-v-7b4c51d5]{color:#3c9cff}.u-warning[data-v-7b4c51d5]{color:#f9ae3d}.u-success[data-v-7b4c51d5]{color:#5ac725}.u-error[data-v-7b4c51d5]{color:#f56c6c}.u-info[data-v-7b4c51d5]{color:#909399}.u-primary-bg[data-v-7b4c51d5]{background-color:#3c9cff}.u-warning-bg[data-v-7b4c51d5]{background-color:#f9ae3d}.u-success-bg[data-v-7b4c51d5]{background-color:#5ac725}.u-error-bg[data-v-7b4c51d5]{background-color:#f56c6c}.u-info-bg[data-v-7b4c51d5]{background-color:#909399}.u-main-color[data-v-7b4c51d5]{color:#303133}.u-content-color[data-v-7b4c51d5]{color:#606266}.u-tips-color[data-v-7b4c51d5]{color:#909193}.u-light-color[data-v-7b4c51d5]{color:#c0c4cc}.u-safe-area-inset-top[data-v-7b4c51d5]{padding-top:0;padding-top:constant(safe-area-inset-top);padding-top:env(safe-area-inset-top)}.u-safe-area-inset-right[data-v-7b4c51d5]{padding-right:0;padding-right:constant(safe-area-inset-right);padding-right:env(safe-area-inset-right)}.u-safe-area-inset-bottom[data-v-7b4c51d5]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.u-safe-area-inset-left[data-v-7b4c51d5]{padding-left:0;padding-left:constant(safe-area-inset-left);padding-left:env(safe-area-inset-left)}uni-toast[data-v-7b4c51d5]{z-index:10090}uni-toast .uni-toast[data-v-7b4c51d5]{z-index:10090}[data-v-7b4c51d5]::-webkit-scrollbar{display:none;width:0!important;height:0!important;-webkit-appearance:none;background:transparent}\n/* 颜色变量 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 页面左右间距 */\n/* 文字尺寸 */.uni-forms-item[data-v-7b4c51d5]{position:relative;display:flex;margin-bottom:22px;flex-direction:row}.uni-forms-item__label[data-v-7b4c51d5]{display:flex;flex-direction:row;align-items:center;text-align:left;font-size:14px;color:#606266;height:36px;padding:0 12px 0 0;vertical-align:middle;flex-shrink:0;box-sizing:border-box}.uni-forms-item__label.no-label[data-v-7b4c51d5]{padding:0}.uni-forms-item__content[data-v-7b4c51d5]{position:relative;font-size:14px;flex:1;box-sizing:border-box;flex-direction:row}.uni-forms-item .uni-forms-item__nuve-content[data-v-7b4c51d5]{display:flex;flex-direction:column;flex:1}.uni-forms-item__error[data-v-7b4c51d5]{color:#f56c6c;font-size:12px;line-height:1;padding-top:4px;position:absolute;top:100%;left:0;transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s;-webkit-transform:translateY(-100%);transform:translateY(-100%);opacity:0}.uni-forms-item__error .error-text[data-v-7b4c51d5]{color:#f56c6c;font-size:12px}.uni-forms-item__error.msg--active[data-v-7b4c51d5]{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}.uni-forms-item.is-direction-left[data-v-7b4c51d5]{flex-direction:row}.uni-forms-item.is-direction-top[data-v-7b4c51d5]{flex-direction:column}.uni-forms-item.is-direction-top .uni-forms-item__label[data-v-7b4c51d5]{padding:0 0 8px;line-height:1.5715;text-align:left;white-space:normal}.uni-forms-item .is-required[data-v-7b4c51d5]{color:#dd524d;font-weight:700}.uni-forms-item--border[data-v-7b4c51d5]{margin-bottom:0;padding:10px 0;border-top:1px #eee solid}.uni-forms-item--border .uni-forms-item__content[data-v-7b4c51d5]{flex-direction:column;justify-content:flex-start;align-items:flex-start}.uni-forms-item--border .uni-forms-item__content .uni-forms-item__error[data-v-7b4c51d5]{position:relative;top:5px;left:0;padding-top:0}.is-first-border[data-v-7b4c51d5]{border:none}',""]),e.exports=t},"79be":function(e,t,a){var r=a("7599");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var o=a("4f06").default;o("03cedade",r,!0,{sourceMap:!1,shadowMode:!1})},8109:function(e,t,a){"use strict";a.r(t);var r=a("8569"),o=a("c50d");for(var i in o)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return o[e]}))}(i);a("ea4f");var n=a("f0c5"),d=Object(n["a"])(o["default"],r["b"],r["c"],!1,null,"7b4c51d5",null,!1,r["a"],void 0);t["default"]=d.exports},8569:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"uni-forms-item",class:["is-direction-"+e.localLabelPos,e.border?"uni-forms-item--border":"",e.border&&e.isFirstBorder?"is-first-border":""]},[e._t("label",[a("v-uni-view",{staticClass:"uni-forms-item__label",class:{"no-label":!e.label&&!e.required},style:{width:e.localLabelWidth,justifyContent:e.localLabelAlign}},[e.required?a("v-uni-text",{staticClass:"is-required"},[e._v("*")]):e._e(),a("v-uni-text",[e._v(e._s(e.label))])],1)]),a("v-uni-view",{staticClass:"uni-forms-item__content"},[e._t("default"),a("v-uni-view",{staticClass:"uni-forms-item__error",class:{"msg--active":e.msg}},[a("v-uni-text",[e._v(e._s(e.msg))])],1)],2)],2)},o=[]},"88ef":function(e,t,a){"use strict";a("7a82");var r=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(a("53ca")),i=r(a("c7eb")),n=r(a("ade3")),d=r(a("1da1"));a("a9e3"),a("14d9"),a("d3b7"),a("159b"),a("a434");var s={name:"uniFormsItem",options:{virtualHost:!0},provide:function(){return{uniFormItem:this}},inject:{form:{from:"uniForm",default:null}},props:{rules:{type:Array,default:function(){return null}},name:{type:[String,Array],default:""},required:{type:Boolean,default:!1},label:{type:String,default:""},labelWidth:{type:[String,Number],default:""},labelAlign:{type:String,default:""},errorMessage:{type:[String,Boolean],default:""},leftIcon:String,iconColor:{type:String,default:"#606266"}},data:function(){return{errMsg:"",userRules:null,localLabelAlign:"left",localLabelWidth:"65px",localLabelPos:"left",border:!1,isFirstBorder:!1}},computed:{msg:function(){return this.errorMessage||this.errMsg}},watch:{"form.formRules":function(e){this.init()},"form.labelWidth":function(e){this.localLabelWidth=this._labelWidthUnit(e)},"form.labelPosition":function(e){this.localLabelPos=this._labelPosition()},"form.labelAlign":function(e){}},created:function(){var e=this;this.init(!0),this.name&&this.form&&this.$watch((function(){var t=e.form._getDataValue(e.name,e.form.localData);return t}),(function(t,a){var r=e.form._isEqual(t,a);if(!r){var o=e.itemSetValue(t);e.onFieldChange(o,!1)}}),{immediate:!1})},destroyed:function(){this.__isUnmounted||this.unInit()},methods:{setRules:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.userRules=e,this.init(!1)},setValue:function(){},onFieldChange:function(e){var t=arguments,a=this;return(0,d.default)((0,i.default)().mark((function r(){var o,d,s,l,u,c,f,b,p,v,m,g;return(0,i.default)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=!(t.length>1&&void 0!==t[1])||t[1],d=a.form,s=d.formData,d.localData,l=d.errShowType,u=d.validateCheck,c=d.validateTrigger,f=d._isRequiredField,b=d._realName,p=b(a.name),e||(e=a.form.formData[p]),v=a.itemRules.rules&&a.itemRules.rules.length,a.validator&&v&&0!==v){r.next=7;break}return r.abrupt("return");case 7:if(m=f(a.itemRules.rules||[]),g=null,"bind"!==c&&!o){r.next=18;break}return r.next=12,a.validator.validateUpdate((0,n.default)({},p,e),s);case 12:g=r.sent,m||void 0!==e&&""!==e||(g=null),g&&g.errorMessage?("undertext"===l&&(a.errMsg=g?g.errorMessage:""),"toast"===l&&uni.showToast({title:g.errorMessage||"校验错误",icon:"none"}),"modal"===l&&uni.showModal({title:"提示",content:g.errorMessage||"校验错误"})):a.errMsg="",u(g||null),r.next=19;break;case 18:a.errMsg="";case 19:return r.abrupt("return",g||null);case 20:case"end":return r.stop()}}),r)})))()},init:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.form||{},a=t.validator,r=t.formRules,i=t.childrens,n=(t.formData,t.localData),d=t._realName,s=t.labelWidth,l=t._getDataValue;t._setDataValue;if(this.localLabelAlign=this._justifyContent(),this.localLabelWidth=this._labelWidthUnit(s),this.localLabelPos=this._labelPosition(),this.form&&e&&i.push(this),a&&r){this.form.isFirstBorder||(this.form.isFirstBorder=!0,this.isFirstBorder=!0),this.group&&(this.group.isFirstBorder||(this.group.isFirstBorder=!0,this.isFirstBorder=!0)),this.border=this.form.border;var u=d(this.name),c=this.userRules||this.rules;"object"===(0,o.default)(r)&&c&&(r[u]={rules:c},a.updateSchema(r));var f=r[u]||{};this.itemRules=f,this.validator=a,this.itemSetValue(l(this.name,n))}},unInit:function(){var e=this;if(this.form){var t=this.form,a=t.childrens,r=t.formData,o=t._realName;a.forEach((function(t,a){t===e&&(e.form.childrens.splice(a,1),delete r[o(t.name)])}))}},itemSetValue:function(e){var t=this.form._realName(this.name),a=this.itemRules.rules||[],r=this.form._getValue(t,e,a);return this.form._setDataValue(t,this.form.formData,r),r},clearValidate:function(){this.errMsg=""},_isRequired:function(){return this.required},_justifyContent:function(){if(this.form){var e=this.form.labelAlign,t=this.labelAlign?this.labelAlign:e;if("left"===t)return"flex-start";if("center"===t)return"center";if("right"===t)return"flex-end"}return"flex-start"},_labelWidthUnit:function(e){return this.num2px(this.labelWidth?this.labelWidth:e||(this.label?65:"auto"))},_labelPosition:function(){return this.form&&this.form.labelPosition||"left"},isTrigger:function(e,t,a){return"submit"!==e&&e?"bind":void 0===e?"bind"!==t?t?"submit":""===a?"bind":"submit":"bind":"submit"},num2px:function(e){return"number"===typeof e?"".concat(e,"px"):e}}};t.default=s},a5e8:function(e,t,a){"use strict";a.r(t);var r=a("22dd"),o=a("4723");for(var i in o)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return o[e]}))}(i);a("5535");var n=a("f0c5"),d=Object(n["a"])(o["default"],r["b"],r["c"],!1,null,"3a0b5290",null,!1,r["a"],void 0);t["default"]=d.exports},b19b:function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,"uni-view[data-v-3a0b5290]{display:block}",""]),e.exports=t},b208:function(e,t,a){"use strict";(function(e){a("7a82");var r=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ac1f"),a("5319");var o=r(a("5530")),i=r(a("d5ab")),n=r(a("cb93")),d=e.importObject("uni-id-co",{customUI:!0}),s={mixins:[i.default],data:function(){return{focusOldPassword:!1,focusNewPassword:!1,focusNewPassword2:!1,formData:{oldPassword:"",newPassword:"",newPassword2:""},rules:(0,o.default)({oldPassword:{rules:[{required:!0,errorMessage:"请输入新密码"},{pattern:/^.{6,20}$/,errorMessage:"密码为6 - 20位"}]}},n.default.getPwdRules("newPassword","newPassword2")),logo:"/static/logo.png"}},onReady:function(){this.$refs.form.setRules(this.rules)},onShow:function(){var e=this;document.onkeydown=function(t){var a=t||window.event;a&&13==a.keyCode&&e.submit()}},methods:{submit:function(){var e=this;this.$refs.form.validate().then((function(t){var a=e.formData,r=a.oldPassword,o=a.newPassword;d.updatePwd({oldPassword:r,newPassword:o}).then((function(e){uni.removeStorageSync("uni_id_token"),uni.setStorageSync("uni_id_token_expired",0),uni.redirectTo({url:"/uni_modules/uni-id-pages/pages/login/login-withpwd"})})).catch((function(e){uni.showModal({content:e.message,showCancel:!1})}))})).catch((function(t){var a=t[0].key;a=a.replace(a[0],a[0].toUpperCase()),e["focus"+a]=!0}))}}};t.default=s}).call(this,a("a9ff")["default"])},b2ed:function(e,t,a){var r=a("b19b");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var o=a("4f06").default;o("7195cfe2",r,!0,{sourceMap:!1,shadowMode:!1})},c50d:function(e,t,a){"use strict";a.r(t);var r=a("88ef"),o=a.n(r);for(var i in r)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},cb93:function(e,t,a){"use strict";a("7a82");var r=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ac1f"),a("00b4"),a("4d63"),a("c607"),a("2c3e"),a("25f0");var o=r(a("c01c")),i=o.default.passwordStrength,n={super:/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[~!@#$%^&*_\-+=`|\\(){}[\]:;"'<>,.?/])[0-9a-zA-Z~!@#$%^&*_\-+=`|\\(){}[\]:;"'<>,.?/]{8,16}$/,strong:/^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[~!@#$%^&*_\-+=`|\\(){}[\]:;"'<>,.?/])[0-9a-zA-Z~!@#$%^&*_\-+=`|\\(){}[\]:;"'<>,.?/]{8,16}$/,medium:/^(?![0-9]+$)(?![a-zA-Z]+$)(?![~!@#$%^&*_\-+=`|\\(){}[\]:;"'<>,.?/]+$)[0-9a-zA-Z~!@#$%^&*_\-+=`|\\(){}[\]:;"'<>,.?/]{8,16}$/,weak:/^(?=.*[0-9])(?=.*[a-zA-Z])[0-9a-zA-Z~!@#$%^&*_\-+=`|\\(){}[\]:;"'<>,.?/]{6,16}$/},d={normal:{noPwd:"请输入密码",noRePwd:"再次输入密码",rePwdErr:"两次输入密码不一致"},passwordStrengthError:{super:"密码必须包含大小写字母、数字和特殊符号，密码长度必须在8-16位之间",strong:"密码必须包含字母、数字和特殊符号，密码长度必须在8-16位之间",medium:"密码必须为字母、数字和特殊符号任意两种的组合，密码长度必须在8-16位之间",weak:"密码必须包含字母，密码长度必须在6-16位之间"}};function s(e){return!(i&&n[i]&&!new RegExp(n[i]).test(e))||d.passwordStrengthError[i]}var l={ERROR:d,validPwd:s,getPwdRules:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"password",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"password2",a={};return a[e]={rules:[{required:!0,errorMessage:d.normal.noPwd},{validateFunction:function(e,t,a,r){var o=s(t);return!0!==o&&r(o),!0}}]},t&&(a[t]={rules:[{required:!0,errorMessage:d.normal.noRePwd},{validateFunction:function(t,a,r,o){return a!=r[e]&&o(d.normal.rePwdErr),!0}}]}),a}};t.default=l},cdee:function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.u-line-1[data-v-18e04f9e]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:1;-webkit-box-orient:vertical!important}.u-line-2[data-v-18e04f9e]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:2;-webkit-box-orient:vertical!important}.u-line-3[data-v-18e04f9e]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:3;-webkit-box-orient:vertical!important}.u-line-4[data-v-18e04f9e]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:4;-webkit-box-orient:vertical!important}.u-line-5[data-v-18e04f9e]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:5;-webkit-box-orient:vertical!important}.u-border[data-v-18e04f9e]{border-width:.5px!important;border-color:#dadbde!important;border-style:solid}.u-border-top[data-v-18e04f9e]{border-top-width:.5px!important;border-color:#dadbde!important;border-top-style:solid}.u-border-left[data-v-18e04f9e]{border-left-width:.5px!important;border-color:#dadbde!important;border-left-style:solid}.u-border-right[data-v-18e04f9e]{border-right-width:.5px!important;border-color:#dadbde!important;border-right-style:solid}.u-border-bottom[data-v-18e04f9e]{border-bottom-width:.5px!important;border-color:#dadbde!important;border-bottom-style:solid}.u-border-top-bottom[data-v-18e04f9e]{border-top-width:.5px!important;border-bottom-width:.5px!important;border-color:#dadbde!important;border-top-style:solid;border-bottom-style:solid}.u-reset-button[data-v-18e04f9e]{padding:0;background-color:initial;font-size:inherit;line-height:inherit;color:inherit}.u-reset-button[data-v-18e04f9e]::after{border:none}.u-hover-class[data-v-18e04f9e]{opacity:.7}.u-primary-light[data-v-18e04f9e]{color:#ecf5ff}.u-warning-light[data-v-18e04f9e]{color:#fdf6ec}.u-success-light[data-v-18e04f9e]{color:#f5fff0}.u-error-light[data-v-18e04f9e]{color:#fef0f0}.u-info-light[data-v-18e04f9e]{color:#f4f4f5}.u-primary-light-bg[data-v-18e04f9e]{background-color:#ecf5ff}.u-warning-light-bg[data-v-18e04f9e]{background-color:#fdf6ec}.u-success-light-bg[data-v-18e04f9e]{background-color:#f5fff0}.u-error-light-bg[data-v-18e04f9e]{background-color:#fef0f0}.u-info-light-bg[data-v-18e04f9e]{background-color:#f4f4f5}.u-primary-dark[data-v-18e04f9e]{color:#398ade}.u-warning-dark[data-v-18e04f9e]{color:#f1a532}.u-success-dark[data-v-18e04f9e]{color:#53c21d}.u-error-dark[data-v-18e04f9e]{color:#e45656}.u-info-dark[data-v-18e04f9e]{color:#767a82}.u-primary-dark-bg[data-v-18e04f9e]{background-color:#398ade}.u-warning-dark-bg[data-v-18e04f9e]{background-color:#f1a532}.u-success-dark-bg[data-v-18e04f9e]{background-color:#53c21d}.u-error-dark-bg[data-v-18e04f9e]{background-color:#e45656}.u-info-dark-bg[data-v-18e04f9e]{background-color:#767a82}.u-primary-disabled[data-v-18e04f9e]{color:#9acafc}.u-warning-disabled[data-v-18e04f9e]{color:#f9d39b}.u-success-disabled[data-v-18e04f9e]{color:#a9e08f}.u-error-disabled[data-v-18e04f9e]{color:#f7b2b2}.u-info-disabled[data-v-18e04f9e]{color:#c4c6c9}.u-primary[data-v-18e04f9e]{color:#3c9cff}.u-warning[data-v-18e04f9e]{color:#f9ae3d}.u-success[data-v-18e04f9e]{color:#5ac725}.u-error[data-v-18e04f9e]{color:#f56c6c}.u-info[data-v-18e04f9e]{color:#909399}.u-primary-bg[data-v-18e04f9e]{background-color:#3c9cff}.u-warning-bg[data-v-18e04f9e]{background-color:#f9ae3d}.u-success-bg[data-v-18e04f9e]{background-color:#5ac725}.u-error-bg[data-v-18e04f9e]{background-color:#f56c6c}.u-info-bg[data-v-18e04f9e]{background-color:#909399}.u-main-color[data-v-18e04f9e]{color:#303133}.u-content-color[data-v-18e04f9e]{color:#606266}.u-tips-color[data-v-18e04f9e]{color:#909193}.u-light-color[data-v-18e04f9e]{color:#c0c4cc}.u-safe-area-inset-top[data-v-18e04f9e]{padding-top:0;padding-top:constant(safe-area-inset-top);padding-top:env(safe-area-inset-top)}.u-safe-area-inset-right[data-v-18e04f9e]{padding-right:0;padding-right:constant(safe-area-inset-right);padding-right:env(safe-area-inset-right)}.u-safe-area-inset-bottom[data-v-18e04f9e]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.u-safe-area-inset-left[data-v-18e04f9e]{padding-left:0;padding-left:constant(safe-area-inset-left);padding-left:env(safe-area-inset-left)}uni-toast[data-v-18e04f9e]{z-index:10090}uni-toast .uni-toast[data-v-18e04f9e]{z-index:10090}[data-v-18e04f9e]::-webkit-scrollbar{display:none;width:0!important;height:0!important;-webkit-appearance:none;background:transparent}\n/* 颜色变量 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 页面左右间距 */\n/* 文字尺寸 */.input-box[data-v-18e04f9e]  .uni-input-input[type="password"]::-ms-reveal{display:none}.uni-content[data-v-18e04f9e]{padding:0 %?60?%}.login-logo[data-v-18e04f9e]{display:none}@media screen and (min-width:690px){.uni-content[data-v-18e04f9e]{margin:0 auto;position:relative;top:100px;padding:30px 40px 80px 40px;max-width:450px;max-height:450px;border-radius:10px;box-shadow:0 0 20px #efefef;background-color:#fff}.login-logo[data-v-18e04f9e]{display:flex;justify-content:center}.login-logo uni-image[data-v-18e04f9e]{width:60px;height:60px}.register-back[data-v-18e04f9e]{display:none}uni-button[data-v-18e04f9e]{padding-bottom:1px}}.uni-content uni-view[data-v-18e04f9e]{box-sizing:border-box}.title[data-v-18e04f9e]{display:flex;padding:18px 0;font-weight:800;flex-direction:column}.tip[data-v-18e04f9e]{display:flex;color:#bdbdc0;font-size:11px;margin:6px 0}.uni-content[data-v-18e04f9e]  .uni-easyinput__content,\n.input-box[data-v-18e04f9e]{height:44px;background-color:#f8f8f8!important;border-radius:0;font-size:14px;display:flex;flex:1}.link[data-v-18e04f9e]{color:#04498c;cursor:pointer}.uni-content[data-v-18e04f9e]  .uni-forms-item__inner{padding-bottom:8px}.uni-btn[data-v-18e04f9e]{text-align:center;height:40px;line-height:40px;margin:15px 0 10px 0;color:#fff!important;border-radius:5px;font-size:16px}.uni-body.uni_modules-uni-id-pages-pages-login-login-withoutpwd[data-v-18e04f9e]{height:auto!important}.status_bar[data-v-18e04f9e]{height:0;width:100%}@media screen and (max-width:690px){.uni-content[data-v-18e04f9e]{margin-top:15px}}@media screen and (min-width:690px){.uni-content[data-v-18e04f9e]{padding:30px 40px 40px}}',""]),e.exports=t},d5ab:function(e,t,a){"use strict";a("7a82");var r=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(a("5530"));a("caad"),a("2532"),a("d3b7"),a("159b");var i=a("36ea"),n=r(a("c01c")),d={data:function(){return{config:n.default,uniIdRedirectUrl:"",isMounted:!1}},onUnload:function(){document.onkeydown=!1},mounted:function(){this.isMounted=!0},onLoad:function(e){var t=this;if(e.is_weixin_redirect){if(uni.showLoading({mask:!0}),window.location.href.includes("#")){var a=window.location.href.split("?")[1].split("&");a.forEach((function(t){var a=t.split("=");"code"==a[0]&&(e.code=a[1])}))}this.$nextTick((function(a){t.$refs.uniFabLogin.login({code:e.code},"weixin")}))}e.uniIdRedirectUrl&&(this.uniIdRedirectUrl=decodeURIComponent(e.uniIdRedirectUrl))},computed:{needAgreements:function(){if(this.isMounted)return!!this.$refs.agreements&&this.$refs.agreements.needAgreements},agree:{get:function(){if(this.isMounted)return!this.$refs.agreements||this.$refs.agreements.isAgree},set:function(e){this.$refs.agreements?this.$refs.agreements.isAgree=e:console.log("不存在 隐私政策协议组件")}}},methods:{loginSuccess:function(e){i.mutations.loginSuccess((0,o.default)((0,o.default)({},e),{},{uniIdRedirectUrl:this.uniIdRedirectUrl}))}}},s=d;t.default=s},d900:function(e,t,a){var r=a("cdee");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var o=a("4f06").default;o("2e496080",r,!0,{sourceMap:!1,shadowMode:!1})},e5cb4:function(e,t,a){"use strict";var r=a("d900"),o=a.n(r);o.a},ea4f:function(e,t,a){"use strict";var r=a("79be"),o=a.n(r);o.a},ef62:function(e,t,a){"use strict";a.r(t);var r=a("b208"),o=a.n(r);for(var i in r)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a}}]);