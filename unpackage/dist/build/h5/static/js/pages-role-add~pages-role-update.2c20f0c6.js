(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-role-add~pages-role-update"],{"1e71":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.u-line-1[data-v-1fecfc2e]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:1;-webkit-box-orient:vertical!important}.u-line-2[data-v-1fecfc2e]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:2;-webkit-box-orient:vertical!important}.u-line-3[data-v-1fecfc2e]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:3;-webkit-box-orient:vertical!important}.u-line-4[data-v-1fecfc2e]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:4;-webkit-box-orient:vertical!important}.u-line-5[data-v-1fecfc2e]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:5;-webkit-box-orient:vertical!important}.u-border[data-v-1fecfc2e]{border-width:.5px!important;border-color:#dadbde!important;border-style:solid}.u-border-top[data-v-1fecfc2e]{border-top-width:.5px!important;border-color:#dadbde!important;border-top-style:solid}.u-border-left[data-v-1fecfc2e]{border-left-width:.5px!important;border-color:#dadbde!important;border-left-style:solid}.u-border-right[data-v-1fecfc2e]{border-right-width:.5px!important;border-color:#dadbde!important;border-right-style:solid}.u-border-bottom[data-v-1fecfc2e]{border-bottom-width:.5px!important;border-color:#dadbde!important;border-bottom-style:solid}.u-border-top-bottom[data-v-1fecfc2e]{border-top-width:.5px!important;border-bottom-width:.5px!important;border-color:#dadbde!important;border-top-style:solid;border-bottom-style:solid}.u-reset-button[data-v-1fecfc2e]{padding:0;background-color:initial;font-size:inherit;line-height:inherit;color:inherit}.u-reset-button[data-v-1fecfc2e]::after{border:none}.u-hover-class[data-v-1fecfc2e]{opacity:.7}.u-primary-light[data-v-1fecfc2e]{color:#ecf5ff}.u-warning-light[data-v-1fecfc2e]{color:#fdf6ec}.u-success-light[data-v-1fecfc2e]{color:#f5fff0}.u-error-light[data-v-1fecfc2e]{color:#fef0f0}.u-info-light[data-v-1fecfc2e]{color:#f4f4f5}.u-primary-light-bg[data-v-1fecfc2e]{background-color:#ecf5ff}.u-warning-light-bg[data-v-1fecfc2e]{background-color:#fdf6ec}.u-success-light-bg[data-v-1fecfc2e]{background-color:#f5fff0}.u-error-light-bg[data-v-1fecfc2e]{background-color:#fef0f0}.u-info-light-bg[data-v-1fecfc2e]{background-color:#f4f4f5}.u-primary-dark[data-v-1fecfc2e]{color:#398ade}.u-warning-dark[data-v-1fecfc2e]{color:#f1a532}.u-success-dark[data-v-1fecfc2e]{color:#53c21d}.u-error-dark[data-v-1fecfc2e]{color:#e45656}.u-info-dark[data-v-1fecfc2e]{color:#767a82}.u-primary-dark-bg[data-v-1fecfc2e]{background-color:#398ade}.u-warning-dark-bg[data-v-1fecfc2e]{background-color:#f1a532}.u-success-dark-bg[data-v-1fecfc2e]{background-color:#53c21d}.u-error-dark-bg[data-v-1fecfc2e]{background-color:#e45656}.u-info-dark-bg[data-v-1fecfc2e]{background-color:#767a82}.u-primary-disabled[data-v-1fecfc2e]{color:#9acafc}.u-warning-disabled[data-v-1fecfc2e]{color:#f9d39b}.u-success-disabled[data-v-1fecfc2e]{color:#a9e08f}.u-error-disabled[data-v-1fecfc2e]{color:#f7b2b2}.u-info-disabled[data-v-1fecfc2e]{color:#c4c6c9}.u-primary[data-v-1fecfc2e]{color:#3c9cff}.u-warning[data-v-1fecfc2e]{color:#f9ae3d}.u-success[data-v-1fecfc2e]{color:#5ac725}.u-error[data-v-1fecfc2e]{color:#f56c6c}.u-info[data-v-1fecfc2e]{color:#909399}.u-primary-bg[data-v-1fecfc2e]{background-color:#3c9cff}.u-warning-bg[data-v-1fecfc2e]{background-color:#f9ae3d}.u-success-bg[data-v-1fecfc2e]{background-color:#5ac725}.u-error-bg[data-v-1fecfc2e]{background-color:#f56c6c}.u-info-bg[data-v-1fecfc2e]{background-color:#909399}.u-main-color[data-v-1fecfc2e]{color:#303133}.u-content-color[data-v-1fecfc2e]{color:#606266}.u-tips-color[data-v-1fecfc2e]{color:#909193}.u-light-color[data-v-1fecfc2e]{color:#c0c4cc}.u-safe-area-inset-top[data-v-1fecfc2e]{padding-top:0;padding-top:constant(safe-area-inset-top);padding-top:env(safe-area-inset-top)}.u-safe-area-inset-right[data-v-1fecfc2e]{padding-right:0;padding-right:constant(safe-area-inset-right);padding-right:env(safe-area-inset-right)}.u-safe-area-inset-bottom[data-v-1fecfc2e]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.u-safe-area-inset-left[data-v-1fecfc2e]{padding-left:0;padding-left:constant(safe-area-inset-left);padding-left:env(safe-area-inset-left)}uni-toast[data-v-1fecfc2e]{z-index:10090}uni-toast .uni-toast[data-v-1fecfc2e]{z-index:10090}[data-v-1fecfc2e]::-webkit-scrollbar{display:none;width:0!important;height:0!important;-webkit-appearance:none;background:transparent}\n/* 颜色变量 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 页面左右间距 */\n/* 文字尺寸 */.uni-file-picker__files[data-v-1fecfc2e]{display:flex;flex-direction:column;justify-content:flex-start}.uni-file-picker__lists[data-v-1fecfc2e]{position:relative;margin-top:5px;overflow:hidden}.file-picker__mask[data-v-1fecfc2e]{display:flex;justify-content:center;align-items:center;position:absolute;right:0;top:0;bottom:0;left:0;color:#fff;font-size:14px;background-color:rgba(0,0,0,.4)}.uni-file-picker__lists-box[data-v-1fecfc2e]{position:relative}.uni-file-picker__item[data-v-1fecfc2e]{display:flex;align-items:center;padding:8px 10px;padding-right:5px;padding-left:10px}.files-border[data-v-1fecfc2e]{border-top:1px #eee solid}.files__name[data-v-1fecfc2e]{flex:1;font-size:14px;color:#666;margin-right:25px;word-break:break-all;word-wrap:break-word}.icon-files[data-v-1fecfc2e]{position:static;background-color:initial}.is-list-card[data-v-1fecfc2e]{border:1px #eee solid;margin-bottom:5px;border-radius:5px;box-shadow:0 0 2px 0 rgba(0,0,0,.1);padding:5px}.files__image[data-v-1fecfc2e]{width:40px;height:40px;margin-right:10px}.header-image[data-v-1fecfc2e]{width:100%;height:100%}.is-text-box[data-v-1fecfc2e]{border:1px #eee solid;border-radius:5px}.is-text-image[data-v-1fecfc2e]{width:25px;height:25px;margin-left:5px}.rotate[data-v-1fecfc2e]{position:absolute;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.icon-del-box[data-v-1fecfc2e]{display:flex;margin:auto 0;align-items:center;justify-content:center;position:absolute;top:0;bottom:0;right:5px;height:26px;width:26px;z-index:2;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.icon-del[data-v-1fecfc2e]{width:15px;height:1px;background-color:#333}@media (min-width:768px){.uni-file-picker__files[data-v-1fecfc2e]{max-width:375px}}',""]),e.exports=t},"1f88":function(e,t,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.get_files_and_is_max=t.get_file_info=t.get_file_ext=t.get_file_data=t.get_extname=void 0;var r=i(a("c7eb")),o=i(a("1da1"));a("baa5"),a("ac1f"),a("5319"),a("d3b7"),a("159b"),a("c975"),a("14d9"),a("99af");var n=function(e){var t=e.lastIndexOf("."),a=e.length;return{name:e.substring(0,t),ext:e.substring(t+1,a)}};t.get_file_ext=n;t.get_extname=function(e){if(Array.isArray(e))return e;var t=e.replace(/(\[|\])/g,"");return t.split(",")};t.get_files_and_is_max=function(e,t){var a=[],i=[];return t&&0!==t.length?(e.tempFiles.forEach((function(e){var r=n(e.name),o=r.ext.toLowerCase();-1!==t.indexOf(o)&&(i.push(e),a.push(e.path))})),i.length!==e.tempFiles.length&&uni.showToast({title:"当前选择了".concat(e.tempFiles.length,"个文件 ，").concat(e.tempFiles.length-i.length," 个文件格式不正确"),icon:"none",duration:5e3}),{filePaths:a,files:i}):{filePaths:a,files:i}};var l=function(e){return new Promise((function(t,a){uni.getImageInfo({src:e,success:function(e){t(e)},fail:function(e){a(e)}})}))};t.get_file_info=l;var s=function(){var e=(0,o.default)((0,r.default)().mark((function e(t){var a,i,o,s,c,d=arguments;return(0,r.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=d.length>1&&void 0!==d[1]?d[1]:"image",i=n(t.name),o=i.ext.toLowerCase(),s={name:t.name,uuid:t.uuid,extname:o||"",cloudPath:t.cloudPath,fileType:t.fileType,url:t.path||t.path,size:t.size,image:{},path:t.path,video:{}},"image"!==a){e.next=14;break}return e.next=7,l(t.path);case 7:c=e.sent,delete s.video,s.image.width=c.width,s.image.height=c.height,s.image.location=c.path,e.next=15;break;case 14:delete s.image;case 15:return e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.get_file_data=s},"22cf":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.u-line-1[data-v-5cf66a2a]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:1;-webkit-box-orient:vertical!important}.u-line-2[data-v-5cf66a2a]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:2;-webkit-box-orient:vertical!important}.u-line-3[data-v-5cf66a2a]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:3;-webkit-box-orient:vertical!important}.u-line-4[data-v-5cf66a2a]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:4;-webkit-box-orient:vertical!important}.u-line-5[data-v-5cf66a2a]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:5;-webkit-box-orient:vertical!important}.u-border[data-v-5cf66a2a]{border-width:.5px!important;border-color:#dadbde!important;border-style:solid}.u-border-top[data-v-5cf66a2a]{border-top-width:.5px!important;border-color:#dadbde!important;border-top-style:solid}.u-border-left[data-v-5cf66a2a]{border-left-width:.5px!important;border-color:#dadbde!important;border-left-style:solid}.u-border-right[data-v-5cf66a2a]{border-right-width:.5px!important;border-color:#dadbde!important;border-right-style:solid}.u-border-bottom[data-v-5cf66a2a]{border-bottom-width:.5px!important;border-color:#dadbde!important;border-bottom-style:solid}.u-border-top-bottom[data-v-5cf66a2a]{border-top-width:.5px!important;border-bottom-width:.5px!important;border-color:#dadbde!important;border-top-style:solid;border-bottom-style:solid}.u-reset-button[data-v-5cf66a2a]{padding:0;background-color:initial;font-size:inherit;line-height:inherit;color:inherit}.u-reset-button[data-v-5cf66a2a]::after{border:none}.u-hover-class[data-v-5cf66a2a]{opacity:.7}.u-primary-light[data-v-5cf66a2a]{color:#ecf5ff}.u-warning-light[data-v-5cf66a2a]{color:#fdf6ec}.u-success-light[data-v-5cf66a2a]{color:#f5fff0}.u-error-light[data-v-5cf66a2a]{color:#fef0f0}.u-info-light[data-v-5cf66a2a]{color:#f4f4f5}.u-primary-light-bg[data-v-5cf66a2a]{background-color:#ecf5ff}.u-warning-light-bg[data-v-5cf66a2a]{background-color:#fdf6ec}.u-success-light-bg[data-v-5cf66a2a]{background-color:#f5fff0}.u-error-light-bg[data-v-5cf66a2a]{background-color:#fef0f0}.u-info-light-bg[data-v-5cf66a2a]{background-color:#f4f4f5}.u-primary-dark[data-v-5cf66a2a]{color:#398ade}.u-warning-dark[data-v-5cf66a2a]{color:#f1a532}.u-success-dark[data-v-5cf66a2a]{color:#53c21d}.u-error-dark[data-v-5cf66a2a]{color:#e45656}.u-info-dark[data-v-5cf66a2a]{color:#767a82}.u-primary-dark-bg[data-v-5cf66a2a]{background-color:#398ade}.u-warning-dark-bg[data-v-5cf66a2a]{background-color:#f1a532}.u-success-dark-bg[data-v-5cf66a2a]{background-color:#53c21d}.u-error-dark-bg[data-v-5cf66a2a]{background-color:#e45656}.u-info-dark-bg[data-v-5cf66a2a]{background-color:#767a82}.u-primary-disabled[data-v-5cf66a2a]{color:#9acafc}.u-warning-disabled[data-v-5cf66a2a]{color:#f9d39b}.u-success-disabled[data-v-5cf66a2a]{color:#a9e08f}.u-error-disabled[data-v-5cf66a2a]{color:#f7b2b2}.u-info-disabled[data-v-5cf66a2a]{color:#c4c6c9}.u-primary[data-v-5cf66a2a]{color:#3c9cff}.u-warning[data-v-5cf66a2a]{color:#f9ae3d}.u-success[data-v-5cf66a2a]{color:#5ac725}.u-error[data-v-5cf66a2a]{color:#f56c6c}.u-info[data-v-5cf66a2a]{color:#909399}.u-primary-bg[data-v-5cf66a2a]{background-color:#3c9cff}.u-warning-bg[data-v-5cf66a2a]{background-color:#f9ae3d}.u-success-bg[data-v-5cf66a2a]{background-color:#5ac725}.u-error-bg[data-v-5cf66a2a]{background-color:#f56c6c}.u-info-bg[data-v-5cf66a2a]{background-color:#909399}.u-main-color[data-v-5cf66a2a]{color:#303133}.u-content-color[data-v-5cf66a2a]{color:#606266}.u-tips-color[data-v-5cf66a2a]{color:#909193}.u-light-color[data-v-5cf66a2a]{color:#c0c4cc}.u-safe-area-inset-top[data-v-5cf66a2a]{padding-top:0;padding-top:constant(safe-area-inset-top);padding-top:env(safe-area-inset-top)}.u-safe-area-inset-right[data-v-5cf66a2a]{padding-right:0;padding-right:constant(safe-area-inset-right);padding-right:env(safe-area-inset-right)}.u-safe-area-inset-bottom[data-v-5cf66a2a]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.u-safe-area-inset-left[data-v-5cf66a2a]{padding-left:0;padding-left:constant(safe-area-inset-left);padding-left:env(safe-area-inset-left)}uni-toast[data-v-5cf66a2a]{z-index:10090}uni-toast .uni-toast[data-v-5cf66a2a]{z-index:10090}[data-v-5cf66a2a]::-webkit-scrollbar{display:none;width:0!important;height:0!important;-webkit-appearance:none;background:transparent}\n/* 颜色变量 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 页面左右间距 */\n/* 文字尺寸 */.uni-file-picker__container[data-v-5cf66a2a]{display:flex;box-sizing:border-box;flex-wrap:wrap;margin:-5px}.file-picker__box[data-v-5cf66a2a]{position:relative;width:33.3%;height:0;padding-top:33.33%;box-sizing:border-box}.file-picker__box-content[data-v-5cf66a2a]{position:absolute;top:0;right:0;bottom:0;left:0;margin:5px;border:1px #eee solid;border-radius:5px;overflow:hidden}.file-picker__progress[data-v-5cf66a2a]{position:absolute;bottom:0;left:0;right:0;\n  /* border: 1px red solid; */z-index:2}.file-picker__progress-item[data-v-5cf66a2a]{width:100%}.file-picker__mask[data-v-5cf66a2a]{display:flex;justify-content:center;align-items:center;position:absolute;right:0;top:0;bottom:0;left:0;color:#fff;font-size:12px;background-color:rgba(0,0,0,.4)}.file-image[data-v-5cf66a2a]{width:100%;height:100%}.is-add[data-v-5cf66a2a]{display:flex;align-items:center;justify-content:center}.icon-add[data-v-5cf66a2a]{width:50px;height:5px;background-color:#f1f1f1;border-radius:2px}.rotate[data-v-5cf66a2a]{position:absolute;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.icon-del-box[data-v-5cf66a2a]{display:flex;align-items:center;justify-content:center;position:absolute;top:3px;right:3px;height:26px;width:26px;border-radius:50%;background-color:rgba(0,0,0,.5);z-index:2;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.icon-del[data-v-5cf66a2a]{width:15px;height:2px;background-color:#fff;border-radius:2px}',""]),e.exports=t},"22de":function(e,t,a){"use strict";a.r(t);var i=a("838e"),r=a("8437");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("bf9f");var n=a("f0c5"),l=Object(n["a"])(r["default"],i["b"],i["c"],!1,null,"1fecfc2e",null,!1,i["a"],void 0);t["default"]=l.exports},"3d92":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"uni-file-picker__container"},[e._l(e.filesList,(function(t,i){return a("v-uni-view",{key:i,staticClass:"file-picker__box",style:e.boxStyle},[a("v-uni-view",{staticClass:"file-picker__box-content",style:e.borderStyle},[a("v-uni-image",{staticClass:"file-image",attrs:{src:t.url,mode:"aspectFill"},on:{click:function(a){a.stopPropagation(),arguments[0]=a=e.$handleEvent(a),e.prviewImage(t,i)}}}),e.delIcon&&!e.readonly?a("v-uni-view",{staticClass:"icon-del-box",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.delFile(i)}}},[a("v-uni-view",{staticClass:"icon-del"}),a("v-uni-view",{staticClass:"icon-del rotate"})],1):e._e(),t.progress&&100!==t.progress||0===t.progress?a("v-uni-view",{staticClass:"file-picker__progress"},[a("v-uni-progress",{staticClass:"file-picker__progress-item",attrs:{percent:-1===t.progress?0:t.progress,"stroke-width":"4",backgroundColor:t.errMsg?"#ff5a5f":"#EBEBEB"}})],1):e._e(),t.errMsg?a("v-uni-view",{staticClass:"file-picker__mask",on:{click:function(a){a.stopPropagation(),arguments[0]=a=e.$handleEvent(a),e.uploadFiles(t,i)}}},[e._v("点击重试")]):e._e()],1)],1)})),e.filesList.length<e.limit&&!e.readonly?a("v-uni-view",{staticClass:"file-picker__box",style:e.boxStyle},[a("v-uni-view",{staticClass:"file-picker__box-content is-add",style:e.borderStyle,on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.choose.apply(void 0,arguments)}}},[e._t("default",[a("v-uni-view",{staticClass:"icon-add"}),a("v-uni-view",{staticClass:"icon-add rotate"})])],2)],1):e._e()],2)},r=[]},"459e":function(e,t,a){"use strict";(function(e){a("7a82");var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("2909")),o=i(a("5530")),n=i(a("c7eb")),l=i(a("1da1"));a("a9e3"),a("d3b7"),a("159b"),a("14d9"),a("a434"),a("ac1f"),a("00b4"),a("b64b"),a("99af"),a("3ca3"),a("ddb0"),a("c740"),a("e25e"),a("baa5");var s=a("a57c"),c=a("1f88"),d=i(a("b214")),f=i(a("22de")),u={name:"uniFilePicker",components:{uploadImage:d.default,uploadFile:f.default},options:{virtualHost:!0},emits:["select","success","fail","progress","delete","update:modelValue","input"],props:{value:{type:[Array,Object],default:function(){return[]}},disabled:{type:Boolean,default:!1},disablePreview:{type:Boolean,default:!1},delIcon:{type:Boolean,default:!0},autoUpload:{type:Boolean,default:!0},limit:{type:[Number,String],default:9},mode:{type:String,default:"grid"},fileMediatype:{type:String,default:"image"},fileExtname:{type:[Array,String],default:function(){return[]}},title:{type:String,default:""},listStyles:{type:Object,default:function(){return{border:!0,dividline:!0,borderStyle:{}}}},imageStyles:{type:Object,default:function(){return{width:"auto",height:"auto"}}},readonly:{type:Boolean,default:!1},returnType:{type:String,default:"array"},sizeType:{type:Array,default:function(){return["original","compressed"]}}},data:function(){return{files:[],localValue:[]}},watch:{value:{handler:function(e,t){this.setValue(e,t)},immediate:!0}},computed:{filesList:function(){var e=[];return this.files.forEach((function(t){e.push(t)})),e},showType:function(){return"image"===this.fileMediatype?this.mode:"list"},limitLength:function(){return"object"===this.returnType?1:this.limit?this.limit>=9?9:this.limit:1}},created:function(){e.config&&e.config.provider||(this.noSpace=!0,e.chooseAndUploadFile=s.chooseAndUploadFile),this.form=this.getForm("uniForms"),this.formItem=this.getForm("uniFormsItem"),this.form&&this.formItem&&this.formItem.name&&(this.rename=this.formItem.name,this.form.inputChildrens.push(this))},methods:{clearFiles:function(e){var t=this;0===e||e?this.files.splice(e,1):(this.files=[],this.$nextTick((function(){t.setEmit()}))),this.$nextTick((function(){t.setEmit()}))},upload:function(){var e=[];return this.files.forEach((function(t,a){"ready"!==t.status&&"error"!==t.status||e.push(Object.assign({},t))})),this.uploadFiles(e)},setValue:function(e,t){var a=this;return(0,l.default)((0,n.default)().mark((function t(){var i,r,o,s;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=function(){var e=(0,l.default)((0,n.default)().mark((function e(t){var i,r;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=/cloud:\/\/([\w.]+\/?)\S*/,r="",r=t.fileID?t.fileID:t.url,!i.test(r)){e.next=8;break}return t.fileID=r,e.next=7,a.getTempFileURL(r);case 7:t.url=e.sent;case 8:return t.url&&(t.path=t.url),e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),"object"!==a.returnType){t.next=10;break}if(!e){t.next=7;break}return t.next=5,i(e);case 5:t.next=8;break;case 7:e={};case 8:t.next=19;break;case 10:e||(e=[]),r=0;case 12:if(!(r<e.length)){t.next=19;break}return o=e[r],t.next=16,i(o);case 16:r++,t.next=12;break;case 19:a.localValue=e,a.form&&a.formItem&&!a.is_reset&&(a.is_reset=!1,a.formItem.setValue(a.localValue)),s=Object.keys(e).length>0?e:[],a.files=[].concat(s);case 23:case"end":return t.stop()}}),t)})))()},choose:function(){this.disabled||(this.files.length>=Number(this.limitLength)&&"grid"!==this.showType&&"array"===this.returnType?uni.showToast({title:"您最多选择 ".concat(this.limitLength," 个文件"),icon:"none"}):this.chooseFiles())},chooseFiles:function(){var t=this,a=(0,c.get_extname)(this.fileExtname);e.chooseAndUploadFile({type:this.fileMediatype,compressed:!1,sizeType:this.sizeType,extension:a.length>0?a:void 0,count:this.limitLength-this.files.length,onChooseFile:this.chooseFileCallback,onUploadProgress:function(e){t.setProgress(e,e.index)}}).then((function(e){t.setSuccessAndError(e.tempFiles)})).catch((function(e){console.log("选择失败",e)}))},chooseFileCallback:function(e){var t=this;return(0,l.default)((0,n.default)().mark((function a(){var i,r,l,s,d,f,u,p;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=(0,c.get_extname)(t.fileExtname),r=1===Number(t.limitLength)&&t.disablePreview&&!t.disabled||"object"===t.returnType,r&&(t.files=[]),l=(0,c.get_files_and_is_max)(e,i),s=l.filePaths,d=l.files,i&&i.length>0||(s=e.tempFilePaths,d=e.tempFiles),f=[],u=0;case 7:if(!(u<d.length)){a.next=21;break}if(!(t.limitLength-t.files.length<=0)){a.next=10;break}return a.abrupt("break",21);case 10:return d[u].uuid=Date.now(),a.next=13,(0,c.get_file_data)(d[u],t.fileMediatype);case 13:p=a.sent,p.progress=0,p.status="ready",t.files.push(p),f.push((0,o.default)((0,o.default)({},p),{},{file:d[u]}));case 18:u++,a.next=7;break;case 21:t.$emit("select",{tempFiles:f,tempFilePaths:s}),e.tempFiles=d,t.autoUpload&&!t.noSpace||(e.tempFiles=[]);case 24:case"end":return a.stop()}}),a)})))()},uploadFiles:function(e){var t=this;return e=[].concat(e),s.uploadCloudFiles.call(this,e,5,(function(e){t.setProgress(e,e.index,!0)})).then((function(e){return t.setSuccessAndError(e),e})).catch((function(e){console.log(e)}))},setSuccessAndError:function(e,t){var a=this;return(0,l.default)((0,n.default)().mark((function t(){var i,r,o,l,s,c,d;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=[],r=[],o=[],l=[],s=(0,n.default)().mark((function t(s){var c,d,f;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(c=e[s],d=c.uuid?a.files.findIndex((function(e){return e.uuid===c.uuid})):c.index,-1!==d&&a.files){t.next=4;break}return t.abrupt("return","break");case 4:if("request:fail"!==c.errMsg){t.next=12;break}a.files[d].url=c.path,a.files[d].status="error",a.files[d].errMsg=c.errMsg,r.push(a.files[d]),l.push(a.files[d].url),t.next=26;break;case 12:if(a.files[d].errMsg="",a.files[d].fileID=c.url,f=/cloud:\/\/([\w.]+\/?)\S*/,!f.test(c.url)){t.next=21;break}return t.next=18,a.getTempFileURL(c.url);case 18:a.files[d].url=t.sent,t.next=22;break;case 21:a.files[d].url=c.url;case 22:a.files[d].status="success",a.files[d].progress+=1,i.push(a.files[d]),o.push(a.files[d].fileID);case 26:case"end":return t.stop()}}),t)})),c=0;case 6:if(!(c<e.length)){t.next=14;break}return t.delegateYield(s(c),"t0",8);case 8:if(d=t.t0,"break"!==d){t.next=11;break}return t.abrupt("break",14);case 11:c++,t.next=6;break;case 14:i.length>0&&(a.setEmit(),a.$emit("success",{tempFiles:a.backObject(i),tempFilePaths:o})),r.length>0&&a.$emit("fail",{tempFiles:a.backObject(r),tempFilePaths:l});case 16:case"end":return t.stop()}}),t)})))()},setProgress:function(e,t,a){this.files.length;var i=Math.round(100*e.loaded/e.total),r=t;a||(r=this.files.findIndex((function(t){return t.uuid===e.tempFile.uuid}))),-1!==r&&this.files[r]&&(this.files[r].progress=i-1,this.$emit("progress",{index:r,progress:parseInt(i),tempFile:this.files[r]}))},delFile:function(e){var t=this;this.$emit("delete",{tempFile:this.files[e],tempFilePath:this.files[e].url}),this.files.splice(e,1),this.$nextTick((function(){t.setEmit()}))},getFileExt:function(e){var t=e.lastIndexOf("."),a=e.length;return{name:e.substring(0,t),ext:e.substring(t+1,a)}},setEmit:function(){var e=[];"object"===this.returnType?(e=this.backObject(this.files)[0],this.localValue=e||null):(e=this.backObject(this.files),this.localValue||(this.localValue=[]),this.localValue=(0,r.default)(e)),this.$emit("input",this.localValue)},backObject:function(e){var t=[];return e.forEach((function(e){t.push({extname:e.extname,fileType:e.fileType,image:e.image,name:e.name,path:e.path,size:e.size,fileID:e.fileID,url:e.url})})),t},getTempFileURL:function(t){return(0,l.default)((0,n.default)().mark((function a(){var i;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t={fileList:[].concat(t)},a.next=3,e.getTempFileURL(t);case 3:return i=a.sent,a.abrupt("return",i.fileList[0].tempFileURL||"");case 5:case"end":return a.stop()}}),a)})))()},getForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniForms",t=this.$parent,a=t.$options.name;while(a!==e){if(t=t.$parent,!t)return!1;a=t.$options.name}return t}}};t.default=u}).call(this,a("a9ff")["default"])},4813:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"uni-file-picker"},[e.title?a("v-uni-view",{staticClass:"uni-file-picker__header"},[a("v-uni-text",{staticClass:"file-title"},[e._v(e._s(e.title))]),a("v-uni-text",{staticClass:"file-count"},[e._v(e._s(e.filesList.length)+"/"+e._s(e.limitLength))])],1):e._e(),"image"===e.fileMediatype&&"grid"===e.showType?a("upload-image",{attrs:{readonly:e.readonly,"image-styles":e.imageStyles,"files-list":e.filesList,limit:e.limitLength,disablePreview:e.disablePreview,delIcon:e.delIcon},on:{uploadFiles:function(t){arguments[0]=t=e.$handleEvent(t),e.uploadFiles.apply(void 0,arguments)},choose:function(t){arguments[0]=t=e.$handleEvent(t),e.choose.apply(void 0,arguments)},delFile:function(t){arguments[0]=t=e.$handleEvent(t),e.delFile.apply(void 0,arguments)}}},[e._t("default",[a("v-uni-view",{staticClass:"is-add"},[a("v-uni-view",{staticClass:"icon-add"}),a("v-uni-view",{staticClass:"icon-add rotate"})],1)])],2):e._e(),"image"!==e.fileMediatype||"grid"!==e.showType?a("upload-file",{attrs:{readonly:e.readonly,"list-styles":e.listStyles,"files-list":e.filesList,showType:e.showType,delIcon:e.delIcon},on:{uploadFiles:function(t){arguments[0]=t=e.$handleEvent(t),e.uploadFiles.apply(void 0,arguments)},choose:function(t){arguments[0]=t=e.$handleEvent(t),e.choose.apply(void 0,arguments)},delFile:function(t){arguments[0]=t=e.$handleEvent(t),e.delFile.apply(void 0,arguments)}}},[e._t("default",[a("v-uni-button",{attrs:{type:"primary",size:"mini"}},[e._v("选择文件")])])],2):e._e()],1)},r=[]},"5ac1":function(e,t,a){"use strict";a.r(t);var i=a("459e"),r=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=r.a},8215:function(e,t,a){"use strict";a.r(t);var i=a("94b6"),r=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=r.a},"838e":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"uni-file-picker__files"},[e.readonly?e._e():a("v-uni-view",{staticClass:"files-button",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.choose.apply(void 0,arguments)}}},[e._t("default")],2),e.list.length>0?a("v-uni-view",{staticClass:"uni-file-picker__lists is-text-box",style:e.borderStyle},e._l(e.list,(function(t,i){return a("v-uni-view",{key:i,staticClass:"uni-file-picker__lists-box",class:{"files-border":0!==i&&e.styles.dividline},style:0!==i&&e.styles.dividline&&e.borderLineStyle},[a("v-uni-view",{staticClass:"uni-file-picker__item"},[a("v-uni-view",{staticClass:"files__name"},[e._v(e._s(t.name))]),e.delIcon&&!e.readonly?a("v-uni-view",{staticClass:"icon-del-box icon-files",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.delFile(i)}}},[a("v-uni-view",{staticClass:"icon-del icon-files"}),a("v-uni-view",{staticClass:"icon-del rotate"})],1):e._e()],1),t.progress&&100!==t.progress||0===t.progress?a("v-uni-view",{staticClass:"file-picker__progress"},[a("v-uni-progress",{staticClass:"file-picker__progress-item",attrs:{percent:-1===t.progress?0:t.progress,"stroke-width":"4",backgroundColor:t.errMsg?"#ff5a5f":"#EBEBEB"}})],1):e._e(),"error"===t.status?a("v-uni-view",{staticClass:"file-picker__mask",on:{click:function(a){a.stopPropagation(),arguments[0]=a=e.$handleEvent(a),e.uploadFiles(t,i)}}},[e._v("点击重试")]):e._e()],1)})),1):e._e()],1)},r=[]},8437:function(e,t,a){"use strict";a.r(t);var i=a("d7e4"),r=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=r.a},"8b98":function(e,t,a){"use strict";var i=a("c905"),r=a.n(i);r.a},"8f4e":function(e,t,a){var i=a("1e71");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=a("4f06").default;r("9775b484",i,!0,{sourceMap:!1,shadowMode:!1})},"94b6":function(e,t,a){"use strict";a("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("a9e3"),a("99af"),a("d3b7"),a("159b"),a("14d9"),a("c975");var i={name:"uploadImage",emits:["uploadFiles","choose","delFile"],props:{filesList:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},disablePreview:{type:Boolean,default:!1},limit:{type:[Number,String],default:9},imageStyles:{type:Object,default:function(){return{width:"auto",height:"auto",border:{}}}},delIcon:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1}},computed:{styles:function(){return Object.assign({width:"auto",height:"auto",border:{}},this.imageStyles)},boxStyle:function(){var e=this.styles,t=e.width,a=void 0===t?"auto":t,i=e.height,r=void 0===i?"auto":i,o={};"auto"===r?"auto"!==a?(o.height=this.value2px(a),o["padding-top"]=0):o.height=0:(o.height=this.value2px(r),o["padding-top"]=0),o.width="auto"===a?"auto"!==r?this.value2px(r):"33.3%":this.value2px(a);var n="";for(var l in o)n+="".concat(l,":").concat(o[l],";");return n},borderStyle:function(){var e=this.styles.border,t={};if("boolean"===typeof e)t.border=e?"1px #eee solid":"none";else{var a=e&&e.width||1;a=this.value2px(a);var i=e&&e.radius||3;i=this.value2px(i),t={"border-width":a,"border-style":e&&e.style||"solid","border-color":e&&e.color||"#eee","border-radius":i}}var r="";for(var o in t)r+="".concat(o,":").concat(t[o],";");return r}},methods:{uploadFiles:function(e,t){this.$emit("uploadFiles",e)},choose:function(){this.$emit("choose")},delFile:function(e){this.$emit("delFile",e)},prviewImage:function(e,t){var a=[];1===Number(this.limit)&&this.disablePreview&&!this.disabled&&this.$emit("choose"),this.disablePreview||(this.filesList.forEach((function(e){a.push(e.url)})),uni.previewImage({urls:a,current:t}))},value2px:function(e){return"number"===typeof e?e+="px":-1===e.indexOf("%")&&(e=-1!==e.indexOf("px")?e:e+"px"),e}}};t.default=i},"96aa":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".uni-file-picker[data-v-7ef62d5e]{\nbox-sizing:border-box;overflow:hidden;width:100%;\nflex:1}.uni-file-picker__header[data-v-7ef62d5e]{padding-top:5px;padding-bottom:10px;\ndisplay:flex;\njustify-content:space-between}.file-title[data-v-7ef62d5e]{font-size:14px;color:#333}.file-count[data-v-7ef62d5e]{font-size:14px;color:#999}.is-add[data-v-7ef62d5e]{\ndisplay:flex;\nalign-items:center;justify-content:center}.icon-add[data-v-7ef62d5e]{width:50px;height:5px;background-color:#f1f1f1;border-radius:2px}.rotate[data-v-7ef62d5e]{position:absolute;-webkit-transform:rotate(90deg);transform:rotate(90deg)}",""]),e.exports=t},"984f":function(e,t,a){"use strict";var i=a("da11"),r=a.n(i);r.a},a57c:function(e,t,a){"use strict";(function(e){a("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.chooseAndUploadFile=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"all"};if("image"===e.type)return s(r(e),e);if("video"===e.type)return s(o(e),e);return s(n(e),e)},t.uploadCloudFiles=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,i=arguments.length>2?arguments[2]:void 0;t=JSON.parse(JSON.stringify(t));var r=t.length,o=0,n=this;return new Promise((function(l){while(o<a)s();function s(){var a=o++;if(a>=r)!t.find((function(e){return!e.url&&!e.errMsg}))&&l(t);else{var c=t[a],d=n.files.findIndex((function(e){return e.uuid===c.uuid}));c.url="",delete c.errMsg,e.uploadFile({filePath:c.path,cloudPath:c.cloudPath,fileType:c.fileType,onUploadProgress:function(e){e.index=d,i&&i(e)}}).then((function(e){c.url=e.fileID,c.index=d,a<r&&s()})).catch((function(e){c.errMsg=e.errMsg||e.message,c.index=d,a<r&&s()}))}}}))},a("d3b7"),a("ac1f"),a("5319"),a("159b"),a("baa5"),a("d81d"),a("e9c4"),a("7db0"),a("c740");var i="chooseAndUploadFile:fail";function r(e){var t=e.count,a=e.sizeType,r=void 0===a?["original","compressed"]:a,o=e.sourceType,n=void 0===o?["album","camera"]:o,s=e.extension;return new Promise((function(e,a){uni.chooseImage({count:t,sizeType:r,sourceType:n,extension:s,success:function(t){e(l(t,"image"))},fail:function(e){a({errMsg:e.errMsg.replace("chooseImage:fail",i)})}})}))}function o(e){var t=e.camera,a=e.compressed,r=e.maxDuration,o=e.sourceType,n=void 0===o?["album","camera"]:o,s=e.extension;return new Promise((function(e,o){uni.chooseVideo({camera:t,compressed:a,maxDuration:r,sourceType:n,extension:s,success:function(t){var a=t.tempFilePath,i=t.duration,r=t.size,o=t.height,n=t.width;e(l({errMsg:"chooseVideo:ok",tempFilePaths:[a],tempFiles:[{name:t.tempFile&&t.tempFile.name||"",path:a,size:r,type:t.tempFile&&t.tempFile.type||"",width:n,height:o,duration:i,fileType:"video",cloudPath:""}]},"video"))},fail:function(e){o({errMsg:e.errMsg.replace("chooseVideo:fail",i)})}})}))}function n(e){var t=e.count,a=e.extension;return new Promise((function(e,r){var o=uni.chooseFile;if("undefined"!==typeof wx&&"function"===typeof wx.chooseMessageFile&&(o=wx.chooseMessageFile),"function"!==typeof o)return r({errMsg:i+" 请指定 type 类型，该平台仅支持选择 image 或 video。"});o({type:"all",count:t,extension:a,success:function(t){e(l(t))},fail:function(e){r({errMsg:e.errMsg.replace("chooseFile:fail",i)})}})}))}function l(e,t){return e.tempFiles.forEach((function(e,a){e.name||(e.name=e.path.substring(e.path.lastIndexOf("/")+1)),t&&(e.fileType=t),e.cloudPath=Date.now()+"_"+a+e.name.substring(e.name.lastIndexOf("."))})),e.tempFilePaths||(e.tempFilePaths=e.tempFiles.map((function(e){return e.path}))),e}function s(e,t){var a=t.onChooseFile;t.onUploadProgress;return e.then((function(e){if(a){var t=a(e);if("undefined"!==typeof t)return Promise.resolve(t).then((function(t){return"undefined"===typeof t?e:t}))}return e})).then((function(e){return!1===e?{errMsg:"chooseAndUploadFile:ok",tempFilePaths:[],tempFiles:[]}:e}))}}).call(this,a("a9ff")["default"])},b214:function(e,t,a){"use strict";a.r(t);var i=a("3d92"),r=a("8215");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("984f");var n=a("f0c5"),l=Object(n["a"])(r["default"],i["b"],i["c"],!1,null,"5cf66a2a",null,!1,i["a"],void 0);t["default"]=l.exports},bf9f:function(e,t,a){"use strict";var i=a("8f4e"),r=a.n(i);r.a},c905:function(e,t,a){var i=a("96aa");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=a("4f06").default;r("f2537616",i,!0,{sourceMap:!1,shadowMode:!1})},d7e4:function(e,t,a){"use strict";a("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("a9e3"),a("d3b7"),a("159b"),a("14d9"),a("99af"),a("c975");var i={name:"uploadFile",emits:["uploadFiles","choose","delFile"],props:{filesList:{type:Array,default:function(){return[]}},delIcon:{type:Boolean,default:!0},limit:{type:[Number,String],default:9},showType:{type:String,default:""},listStyles:{type:Object,default:function(){return{border:!0,dividline:!0,borderStyle:{}}}},readonly:{type:Boolean,default:!1}},computed:{list:function(){var e=[];return this.filesList.forEach((function(t){e.push(t)})),e},styles:function(){return Object.assign({border:!0,dividline:!0,"border-style":{}},this.listStyles)},borderStyle:function(){var e=this.styles,t=e.borderStyle,a=e.border,i={};if(a){var r=t&&t.width||1;r=this.value2px(r);var o=t&&t.radius||5;o=this.value2px(o),i={"border-width":r,"border-style":t&&t.style||"solid","border-color":t&&t.color||"#eee","border-radius":o}}else i.border="none";var n="";for(var l in i)n+="".concat(l,":").concat(i[l],";");return n},borderLineStyle:function(){var e={},t=this.styles.borderStyle;if(t&&t.color&&(e["border-color"]=t.color),t&&t.width){var a=t&&t.width||1,i=t&&t.style||0;"number"===typeof a?a+="px":a=a.indexOf("px")?a:a+"px",e["border-width"]=a,"number"===typeof i?i+="px":i=i.indexOf("px")?i:i+"px",e["border-top-style"]=i}var r="";for(var o in e)r+="".concat(o,":").concat(e[o],";");return r}},methods:{uploadFiles:function(e,t){this.$emit("uploadFiles",{item:e,index:t})},choose:function(){this.$emit("choose")},delFile:function(e){this.$emit("delFile",e)},value2px:function(e){return"number"===typeof e?e+="px":e=-1!==e.indexOf("px")?e:e+"px",e}}};t.default=i},da11:function(e,t,a){var i=a("22cf");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=a("4f06").default;r("0c776386",i,!0,{sourceMap:!1,shadowMode:!1})},fff9:function(e,t,a){"use strict";a.r(t);var i=a("4813"),r=a("5ac1");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("8b98");var n=a("f0c5"),l=Object(n["a"])(r["default"],i["b"],i["c"],!1,null,"7ef62d5e",null,!1,i["a"],void 0);t["default"]=l.exports}}]);